<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Scope Manager â€” Analytics Verification</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#0f1117;--s1:#1a1f2e;--s2:#1e2438;--s3:#222840;--s4:#252c40;
  --bd:#232b3e;--bd2:#2e3748;
  --blue:#4f80ff;--purple:#a855f7;--green:#10b981;
  --red:#ef4444;--cyan:#06b6d4;--orange:#f97316;--yellow:#f59e0b;
  --t1:#e8eaf0;--t2:#c5cbd8;--t3:#8c95aa;--t4:#5a6478;
}
body{background:var(--bg);color:var(--t1);font-family:'Apple SD Gothic Neo','Pretendard','Segoe UI',sans-serif;font-size:13px;min-height:100vh}

header{padding:18px 28px;border-bottom:1px solid var(--bd);display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;background:var(--bg);z-index:100;gap:12px;flex-wrap:wrap}
.logo{font-size:15px;font-weight:800}.logo b{color:var(--blue)}
.hbadge{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.badge{padding:3px 10px;border-radius:20px;font-size:10px;font-weight:700}
.b-blue{background:rgba(79,128,255,.15);color:var(--blue);border:1px solid rgba(79,128,255,.3)}
.b-cyan{background:rgba(6,182,212,.12);color:var(--cyan);border:1px solid rgba(6,182,212,.25)}
.b-purple{background:rgba(168,85,247,.15);color:var(--purple);border:1px solid rgba(168,85,247,.3)}

nav{border-bottom:1px solid var(--bd);padding:0 28px;display:flex;gap:2px;overflow-x:auto}
.tab{padding:11px 15px;font-size:12px;font-weight:600;color:var(--t4);cursor:pointer;border-bottom:2px solid transparent;white-space:nowrap;transition:.15s}
.tab:hover{color:var(--t2)}.tab.on{color:var(--blue);border-bottom-color:var(--blue)}

.page{display:none;padding:24px 28px 80px}.page.on{display:block}
.sec{font-size:10px;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;color:var(--t4);margin-bottom:16px;display:flex;align-items:center;gap:8px}
.sec::after{content:'';flex:1;height:1px;background:var(--bd)}
.mb8{margin-bottom:8px}.mb12{margin-bottom:12px}.mb16{margin-bottom:16px}
.mb20{margin-bottom:20px}.mb28{margin-bottom:28px}

.g2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.g3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px}
.g4{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
@media(max-width:900px){.g4{grid-template-columns:1fr 1fr}.g3{grid-template-columns:1fr 1fr}}
@media(max-width:560px){.g2,.g3,.g4{grid-template-columns:1fr}nav{padding:0 16px}.page{padding:16px 16px 80px}}

.card{background:var(--s1);border:1px solid var(--bd);border-radius:12px;padding:18px}
.card-sm{background:var(--s1);border:1px solid var(--bd);border-radius:10px;padding:14px}

.tag{display:inline-flex;align-items:center;padding:2px 8px;border-radius:5px;font-size:10px;font-weight:600;white-space:nowrap}
.tag-green{background:rgba(16,185,129,.12);color:var(--green);border:1px solid rgba(16,185,129,.2)}
.tag-yellow{background:rgba(245,158,11,.12);color:var(--yellow);border:1px solid rgba(245,158,11,.2)}
.tag-red{background:rgba(239,68,68,.12);color:var(--red);border:1px solid rgba(239,68,68,.2)}
.tag-blue{background:rgba(79,128,255,.12);color:var(--blue)}
.tag-purple{background:rgba(168,85,247,.12);color:var(--purple)}
.tag-cyan{background:rgba(6,182,212,.12);color:var(--cyan)}
.tag-orange{background:rgba(249,115,22,.12);color:var(--orange)}
.tag-gray{background:rgba(90,100,120,.15);color:var(--t3)}

/* KPI */
.kpi-row{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-bottom:28px}
@media(max-width:700px){.kpi-row{grid-template-columns:1fr 1fr}}
.kpi{background:var(--s1);border:1px solid var(--bd);border-radius:10px;padding:14px 16px}
.kpi-l{font-size:10px;font-weight:700;letter-spacing:.7px;text-transform:uppercase;color:var(--t4);margin-bottom:5px}
.kpi-v{font-size:22px;font-weight:900;line-height:1;margin-bottom:3px}
.kpi-s{font-size:11px;color:var(--t4)}

/* â”€â”€ ì´ë²¤íŠ¸ ê²€ì¦ ì¹´ë“œ â”€â”€ */
.ev-card{background:var(--s2);border:1px solid var(--bd2);border-radius:12px;margin-bottom:12px;overflow:hidden}
.ev-card-head{padding:13px 16px;display:flex;align-items:center;gap:10px;background:var(--s3);border-bottom:1px solid var(--bd);cursor:pointer;user-select:none}
.ev-card-head:hover{filter:brightness(1.06)}
.ev-card-body{padding:16px;display:none}
.ev-card-body.open{display:block}
.ev-name{font-family:monospace;font-size:12px;font-weight:800;color:var(--cyan)}
.ev-group-label{font-size:11px;color:var(--t3);flex:1}

/* íŠ¸ë¦¬ê±° í”Œë¡œìš° */
.flow-row{display:flex;align-items:flex-start;gap:12px;margin-bottom:12px;flex-wrap:wrap}
.flow-step{background:var(--s3);border:1px solid var(--bd2);border-radius:8px;padding:10px 12px;flex:1;min-width:140px}
.flow-step-label{font-size:9px;font-weight:700;letter-spacing:1px;text-transform:uppercase;color:var(--t4);margin-bottom:4px}
.flow-step-val{font-size:11px;color:var(--t2);line-height:1.6}
.flow-arrow{color:var(--t4);font-size:18px;padding-top:20px;flex-shrink:0}

/* í”„ë¡œí¼í‹° í…Œì´ë¸” */
.prop-table{width:100%;border-collapse:collapse;margin-top:10px}
.prop-table th{padding:7px 10px;text-align:left;font-size:9px;font-weight:700;letter-spacing:.8px;text-transform:uppercase;color:var(--t4);border-bottom:1px solid var(--bd);background:var(--s3)}
.prop-table td{padding:8px 10px;border-bottom:1px solid var(--bd);font-size:11px;vertical-align:top}
.prop-table tr:last-child td{border-bottom:none}
.prop-name{font-family:monospace;font-size:11px;font-weight:700;color:var(--purple)}
.prop-type{font-size:10px;color:var(--yellow);font-family:monospace}
.prop-ex{font-size:10px;color:var(--green);font-family:monospace}
.prop-req{font-size:10px;font-weight:700}

/* ì½”ë“œ ë¸”ë¡ */
.code-block{background:var(--s2);border:1px solid var(--bd2);border-radius:8px;padding:14px;font-family:monospace;font-size:11px;line-height:1.9;overflow-x:auto;margin-top:10px}
.kw{color:var(--cyan)}.str{color:var(--green)}.num{color:var(--yellow)}.cm{color:var(--t4)}.fn{color:var(--orange)}.pr{color:var(--purple)}.ev{color:var(--blue)}

/* ê²€ì¦ ì²´í¬ */
.verify-list{display:flex;flex-direction:column;gap:6px;margin-top:10px}
.verify-item{display:flex;align-items:flex-start;gap:10px;padding:8px 10px;border-radius:7px;background:var(--s3);border:1px solid var(--bd)}
.verify-icon{font-size:14px;flex-shrink:0;margin-top:1px}
.verify-text{font-size:11px;color:var(--t2);line-height:1.6}
.verify-cmd{font-family:monospace;font-size:10px;color:var(--cyan);background:var(--bg);padding:2px 6px;border-radius:4px;margin-top:3px;display:block}

/* â”€â”€ í¼ë„ ì‹œê°í™” â”€â”€ */
.funnel-wrap{display:flex;flex-direction:column;gap:4px;margin-bottom:20px}
.funnel-step{display:flex;align-items:center;gap:12px;cursor:pointer}
.funnel-bar-wrap{flex:1;background:var(--s3);border-radius:4px;height:36px;position:relative;overflow:hidden}
.funnel-bar{height:100%;border-radius:4px;display:flex;align-items:center;padding-left:12px;transition:width .6s cubic-bezier(.4,0,.2,1)}
.funnel-bar-label{font-size:11px;font-weight:700;color:#fff;white-space:nowrap;z-index:1}
.funnel-step-meta{min-width:120px;text-align:right}
.funnel-step-name{font-family:monospace;font-size:10px;color:var(--cyan);display:block}
.funnel-step-pct{font-size:16px;font-weight:800;color:var(--t1)}
.funnel-drop{font-size:10px;color:var(--red)}

/* â”€â”€ ì´ë²¤íŠ¸ ìƒíƒœ ëŒ€ì‹œë³´ë“œ â”€â”€ */
.ev-status-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:8px;margin-bottom:20px}
.ev-status-card{background:var(--s1);border:1px solid var(--bd);border-radius:8px;padding:12px;cursor:pointer;transition:.15s;position:relative}
.ev-status-card:hover{border-color:var(--blue);background:var(--s2)}
.ev-status-card .ev-name{font-size:11px}
.ev-status-card .ev-group{font-size:10px;color:var(--t4);margin-top:2px}
.status-dot{width:8px;height:8px;border-radius:50%;position:absolute;top:12px;right:12px}
.status-pass{background:var(--green);box-shadow:0 0 6px rgba(16,185,129,.5)}
.status-fail{background:var(--red);box-shadow:0 0 6px rgba(239,68,68,.5)}
.status-todo{background:var(--t4)}
.status-skip{background:var(--yellow)}

/* â”€â”€ PostHog SQL â”€â”€ */
.sql-block{background:var(--s2);border:1px solid var(--bd2);border-radius:10px;padding:16px;margin-bottom:12px}
.sql-title{font-size:11px;font-weight:700;color:var(--yellow);margin-bottom:8px;display:flex;align-items:center;gap:8px}
.sql-code{font-family:monospace;font-size:11px;line-height:1.9;color:var(--t2);overflow-x:auto}
.sql-k{color:var(--cyan)}.sql-s{color:var(--green)}.sql-c{color:var(--t4)}.sql-f{color:var(--orange)}

/* â”€â”€ íƒ€ì„ë¼ì¸ â”€â”€ */
.timeline{display:flex;flex-direction:column;gap:0;position:relative;padding-left:28px;margin-bottom:20px}
.timeline::before{content:'';position:absolute;left:9px;top:8px;bottom:8px;width:2px;background:var(--bd2)}
.tl-item{position:relative;padding:0 0 20px 20px}
.tl-dot{width:18px;height:18px;border-radius:50%;position:absolute;left:-28px;top:2px;display:flex;align-items:center;justify-content:center;font-size:9px;font-weight:800;z-index:1}
.tl-head{display:flex;align-items:center;gap:8px;margin-bottom:6px}
.tl-title{font-size:12px;font-weight:700;color:#fff}
.tl-time{font-size:10px;color:var(--t4)}
.tl-body{font-size:11px;color:var(--t3);line-height:1.7}
.tl-code{font-family:monospace;font-size:10px;color:var(--cyan);background:var(--s3);padding:2px 6px;border-radius:3px}

/* filter bar */
.filter-bar{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:16px}
.filter-btn{padding:5px 12px;border-radius:20px;font-size:11px;font-weight:600;cursor:pointer;border:1px solid var(--bd);background:var(--s1);color:var(--t4);transition:.15s}
.filter-btn:hover{border-color:var(--blue);color:var(--blue)}
.filter-btn.active{background:rgba(79,128,255,.15);color:var(--blue);border-color:rgba(79,128,255,.4)}

/* progress bar */
.prog-wrap{background:var(--s3);border-radius:6px;height:6px;overflow:hidden;margin-top:4px}
.prog{height:100%;border-radius:6px}
</style>
</head>
<body>

<header>
  <div class="logo"><b>Scope</b>Manager &nbsp;<span style="font-size:11px;color:var(--t4);font-weight:400">Analytics Verification</span></div>
  <div class="hbadge">
    <span class="badge b-purple">ğŸš€ Build-to-Learn</span>
    <span class="badge b-cyan">ë°ì´í„° íŒŒì´í”„ë¼ì¸</span>
    <span class="badge b-blue">v1.1</span>
  </div>
</header>

<nav>
  <div class="tab on" onclick="go('overview',this)">ğŸ“¡ ê²€ì¦ ê°œìš”</div>
  <div class="tab" onclick="go('events',this)">ğŸ” ì´ë²¤íŠ¸ë³„ ê²€ì¦</div>
  <div class="tab" onclick="go('funnel',this)">ğŸ¯ í¼ë„ ê²€ì¦</div>
  <div class="tab" onclick="go('status',this)">âœ… ì „ì²´ ìƒíƒœíŒ</div>
  <div class="tab" onclick="go('queries',this)">ğŸ—„ PostHog ì¿¼ë¦¬</div>
  <div class="tab" onclick="go('timeline',this)">ğŸ“… ê²€ì¦ ë¡œë“œë§µ</div>
</nav>


<div class="page on" id="page-overview">

  <div class="sec mb16">MVP ê²€ì¦ ì „ëµ (Updated)</div>
  <div class="card mb28" style="border-left:3px solid var(--purple); background:var(--s2)">
    <div style="font-size:13px;font-weight:800;color:#fff;margin-bottom:10px">ğŸ¯ ê°€ì„¤ ê²€ì¦ ìš°ì„ : ê³ ê° ì¸í„°ë·° ìƒëµ ë° ì‹¤ë°ì´í„° ê¸°ë°˜ ì‹œì¥ ê²€ì¦</div>
    <div style="font-size:12px;color:var(--t3);line-height:1.8">
      AIì˜ ë°œë‹¬ë¡œ ê°œë°œ ë¦¬ì†ŒìŠ¤ê°€ íšê¸°ì ìœ¼ë¡œ ë‚®ì•„ì§ì— ë”°ë¼, ë¶ˆí™•ì‹¤ì„±ì´ ë†’ì€ ì‚¬ì „ ê³ ê° ì¸í„°ë·°ë¥¼ ê³¼ê°íˆ ìƒëµí•˜ê³  <b>MVPë¥¼ ì¦‰ì‹œ ë°°í¬í•˜ì—¬ ì‹¤ì œ ìœ ì €ì˜ í–‰ë™ ë°ì´í„°ë¡œ Scope Managerì˜ ì‹œì¥ì„±ì„ ê²€ì¦</b>í•©ë‹ˆë‹¤. <br>
      ë³¸ Analytics Verification ë¬¸ì„œëŠ” ì¸í„°ë·°ë¥¼ ëŒ€ì²´í•˜ëŠ” ê°€ì¥ ì¤‘ìš”í•œ <b style="color:var(--t2)">'ê³ ê°ì˜ ëª©ì†Œë¦¬(í–‰ë™ ë°ì´í„°)' ìˆ˜ì§‘ íŒŒì´í”„ë¼ì¸</b>ì´ë©°, ì´ íŠ¸ë˜í‚¹ì´ ë¬´ë„ˆì§€ë©´ ê°€ì„¤ ê²€ì¦ ìì²´ê°€ ë¶ˆê°€ëŠ¥í•´ì§€ë¯€ë¡œ ëª¨ë“  ì´ë²¤íŠ¸ ì„¸íŒ…ì„ P0 ìˆ˜ì¤€ìœ¼ë¡œ ì·¨ê¸‰í•©ë‹ˆë‹¤.
    </div>
  </div>

  <div class="kpi-row">
    <div class="kpi">
      <div class="kpi-l">ì´ íŠ¸ë˜í‚¹ ì´ë²¤íŠ¸</div>
      <div class="kpi-v" style="color:var(--blue)">32<span style="font-size:14px">ê°œ</span></div>
      <div class="kpi-s">í•µì‹¬ 24 + ë³´ì¡° 8</div>
    </div>
    <div class="kpi">
      <div class="kpi-l">ê²€ì¦ ì‹œë‚˜ë¦¬ì˜¤</div>
      <div class="kpi-v" style="color:var(--green)">4<span style="font-size:14px">ê°œ</span></div>
      <div class="kpi-s">í¼ë„ ì´íƒˆ í¬ì¸íŠ¸ ê¸°ì¤€</div>
    </div>
    <div class="kpi">
      <div class="kpi-l">ê°€ì„¤ ê²€ì¦ ì¿¼ë¦¬</div>
      <div class="kpi-v" style="color:var(--yellow)">8<span style="font-size:14px">ê°œ</span></div>
      <div class="kpi-s">ì¸í„°ë·° ëŒ€ì²´ìš© ë°ì´í„°</div>
    </div>
    <div class="kpi">
      <div class="kpi-l">ê²€ì¦ ë‹¨ê³„</div>
      <div class="kpi-v" style="color:var(--orange)">3<span style="font-size:14px">ë‹¨ê³„</span></div>
      <div class="kpi-s">Dev â†’ Staging â†’ Prod</div>
    </div>
  </div>

  <div class="sec mb16">ê²€ì¦ ë°©ë²•ë¡  â€” ì¸í„°ë·° ëŒ€ì²´ìš© 3ë‹¨ê³„ íŒŒì´í”„ë¼ì¸</div>
  <div class="g3 mb28">
    <div class="card" style="border-top:3px solid var(--blue)">
      <div style="font-size:20px;margin-bottom:8px">ğŸ› </div>
      <div style="font-size:13px;font-weight:800;color:#fff;margin-bottom:8px">1ë‹¨ê³„ Â· ê°œë°œ í™˜ê²½</div>
      <div style="font-size:11px;color:var(--t3);line-height:1.8">
        ë¸Œë¼ìš°ì € DevTools Network íƒ­ì—ì„œ <code style="background:var(--s3);padding:1px 5px;border-radius:3px;color:var(--cyan)">/e/?</code> ìš”ì²­ ìˆ˜ë™ í™•ì¸. PostHog JS SDK <code style="color:var(--yellow)">debug()</code> ëª¨ë“œ í™œì„±í™”. ë°ì´í„° ëˆ„ë½ ë°©ì§€ë¥¼ ìœ„í•œ ì´ë²¤íŠ¸/í”„ë¡œí¼í‹° ì˜¤íƒ€ 1ì°¨ ê²€ì¦.
      </div>
      <div style="margin-top:10px;font-size:10px;color:var(--t4);font-family:monospace;background:var(--s3);padding:8px;border-radius:6px;line-height:1.8">posthog.debug()<br>â†’ consoleì— ì´ë²¤íŠ¸ ì‹¤ì‹œê°„ ì¶œë ¥</div>
    </div>
    <div class="card" style="border-top:3px solid var(--yellow)">
      <div style="font-size:20px;margin-bottom:8px">ğŸ§ª</div>
      <div style="font-size:13px;font-weight:800;color:#fff;margin-bottom:8px">2ë‹¨ê³„ Â· Staging ê²€ì¦</div>
      <div style="font-size:11px;color:var(--t3);line-height:1.8">
        ë³„ë„ PostHog í”„ë¡œì íŠ¸(staging)ë¡œ ì´ë²¤íŠ¸ ìˆ˜ì‹  í™•ì¸. ì‹¤ì œ PMF ê²€ì¦ì„ ìœ„í•œ í•µì‹¬ í¼ë„ 4ê°œ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì§ì ‘ ì‹¤í–‰ í›„, Insights ì§‘ê³„ê°’ì´ ì˜ˆìƒëŒ€ë¡œ ë‚˜ì˜¤ëŠ”ì§€ í™•ì¸.
      </div>
      <div style="margin-top:10px;font-size:10px;color:var(--t4);font-family:monospace;background:var(--s3);padding:8px;border-radius:6px;line-height:1.8">POSTHOG_KEY=staging_key<br>â†’ í”„ë¡œë•ì…˜ ë°ì´í„° ì˜¤ì—¼ ë°©ì§€</div>
    </div>
    <div class="card" style="border-top:3px solid var(--green)">
      <div style="font-size:20px;margin-bottom:8px">ğŸš€</div>
      <div style="font-size:13px;font-weight:800;color:#fff;margin-bottom:8px">3ë‹¨ê³„ Â· í”„ë¡œë•ì…˜ ë°ì´í„° ìˆ˜ì§‘</div>
      <div style="font-size:11px;color:var(--t3);line-height:1.8">
        ë°°í¬ ì§í›„ ì‹¤ì‚¬ìš©ì í–‰ë™ ë°ì´í„° ìˆ˜ì‹  í™•ì¸. ìœ ì € ì´íƒˆ ë° ì—ëŸ¬ ë°œìƒ ì‹œ ìë™ ì•Œë¦¼ì„ í†µí•´ ì¦‰ê°ì ì¸ UX/UI ê°œì„  ë£¨í”„(Build-Measure-Learn) ê°€ë™.
      </div>
      <div style="margin-top:10px;font-size:10px;color:var(--t4);font-family:monospace;background:var(--s3);padding:8px;border-radius:6px;line-height:1.8">judgment_api_error &gt; 5/hr<br>â†’ ì¦‰ì‹œ Slack ì•Œë¦¼ íŠ¸ë¦¬ê±°</div>
    </div>
  </div>

  <div class="sec mb16">ì´ë²¤íŠ¸ ê·¸ë£¹ êµ¬ì„±</div>
  <div class="g2 mb28" id="group-summary"></div>

  <div class="sec mb16">ê³µí†µ í”„ë¡œí¼í‹° ê²€ì¦ ê¸°ì¤€</div>
  <div class="card" style="margin-bottom:28px">
    <div style="font-size:12px;font-weight:700;color:#fff;margin-bottom:12px">ëª¨ë“  ì´ë²¤íŠ¸ì— ìë™ ì²¨ë¶€ë˜ëŠ” ê³µí†µ í•„ë“œ</div>
    <table class="prop-table">
      <thead><tr><th>í”„ë¡œí¼í‹°</th><th>íƒ€ì…</th><th>ì˜ˆì‹œê°’</th><th>ê²€ì¦ ë°©ë²•</th></tr></thead>
      <tbody>
        <tr>
          <td><span class="prop-name">app_version</span></td>
          <td><span class="prop-type">string</span></td>
          <td><span class="prop-ex">"1.0.0"</span></td>
          <td style="font-size:11px;color:var(--t3)">ë°°í¬ ì‹œ íŒ¨í‚¤ì§€ ë²„ì „ê³¼ ì¼ì¹˜ í™•ì¸</td>
        </tr>
        <tr>
          <td><span class="prop-name">env</span></td>
          <td><span class="prop-type">string</span></td>
          <td><span class="prop-ex">"production"</span></td>
          <td style="font-size:11px;color:var(--t3)">í”„ë¡œë•ì…˜ì—ì„œ "development" ê°’ ì ˆëŒ€ ë¯¸ë°œí™”</td>
        </tr>
        <tr>
          <td><span class="prop-name">$user_id</span></td>
          <td><span class="prop-type">string</span></td>
          <td><span class="prop-ex">Supabase UUID</span></td>
          <td style="font-size:11px;color:var(--t3)">ë¡œê·¸ì¸ í›„ identifyUser() í˜¸ì¶œ í™•ì¸</td>
        </tr>
        <tr>
          <td><span class="prop-name">$session_id</span></td>
          <td><span class="prop-type">string</span></td>
          <td><span class="prop-ex">PostHog ìë™ ìƒì„±</span></td>
          <td style="font-size:11px;color:var(--t3)">ê°™ì€ ì„¸ì…˜ ë‚´ ì´ë²¤íŠ¸ ë™ì¼ ì„¸ì…˜ID í™•ì¸</td>
        </tr>
        <tr>
          <td><span class="prop-name">$current_url</span></td>
          <td><span class="prop-type">string</span></td>
          <td><span class="prop-ex">"/dashboard"</span></td>
          <td style="font-size:11px;color:var(--t3)">PostHog ìë™ ìˆ˜ì§‘. í˜ì´ì§€ë³„ ì´ë²¤íŠ¸ ë°œí™” ìœ„ì¹˜ í™•ì¸</td>
        </tr>
      </tbody>
    </table>
  </div>

</div>


<div class="page" id="page-events">

  <div class="filter-bar" id="ev-filter">
    <button class="filter-btn active" onclick="filterEv('all',this)">ì „ì²´ (32)</button>
    <button class="filter-btn" onclick="filterEv('onboarding',this)">ğŸŸ£ ì˜¨ë³´ë”© (8)</button>
    <button class="filter-btn" onclick="filterEv('judgment',this)">ğŸ”µ íŒì • (9)</button>
    <button class="filter-btn" onclick="filterEv('report',this)">ğŸŸ  ë¦¬í¬íŠ¸ (7)</button>
    <button class="filter-btn" onclick="filterEv('retention',this)">ğŸŸ¢ ë¦¬í…ì…˜ (8)</button>
  </div>

  <div id="ev-list"></div>
</div>


<div class="page" id="page-funnel">

  <div class="sec mb16">í•µì‹¬ í¼ë„ 4ê°œ â€” ì‚¬ìš©ì ì¸í„°ë·°ë¥¼ ëŒ€ì²´í•  ì´íƒˆ í¬ì¸íŠ¸ ê²€ì¦</div>

  <div class="card mb16" style="border-top:3px solid var(--purple)">
    <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;flex-wrap:wrap;gap:8px">
      <div>
        <div style="font-size:13px;font-weight:800;color:#fff">â‘  ì˜¨ë³´ë”© í¼ë„</div>
        <div style="font-size:11px;color:var(--t4);margin-top:2px">ê°€ì… â†’ ì²« íŒì • ì™„ë£Œê¹Œì§€. ì œí’ˆì˜ ì²« ì¸ìƒì„ ê²°ì •í•˜ëŠ” ê´€ë¬¸.</div>
      </div>
      <span class="tag tag-purple">ëª©í‘œ ì™„ë£Œìœ¨ â‰¥ 70%</span>
    </div>
    <div class="funnel-wrap" id="funnel-onboarding"></div>
    <div style="margin-top:12px;padding:10px 12px;background:var(--s3);border-radius:8px;font-size:11px;color:var(--t3);line-height:1.7">
      <b style="color:var(--t2)">í–‰ë™ ë°ì´í„° ê²€ì¦ í¬ì¸íŠ¸:</b> user_signed_up ì§í›„ onboarding_completed ë¯¸ë„ë‹¬ ë¹„ìœ¨ì´ 30% ì´ˆê³¼ ì‹œ 'ì •ë³´ ì…ë ¥' í—ˆë“¤ ì˜ì‹¬. judgment_requested ë¯¸ë„ë‹¬ ë¹„ìœ¨ì´ 40% ì´ˆê³¼ ì‹œ 'ì²« ê³„ì•½ì„œ ì„¸íŒ…' ì§„ì… ì¥ë²½ ë¬¸ì œ.
    </div>
  </div>

  <div class="card mb16" style="border-top:3px solid var(--orange)">
    <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;flex-wrap:wrap;gap:8px">
      <div>
        <div style="font-size:13px;font-weight:800;color:#fff">â‘¡ ë¦¬í¬íŠ¸ ì „í™˜ í¼ë„</div>
        <div style="font-size:11px;color:var(--t4);margin-top:2px">ë²”ìœ„ ì™¸ íŒì • â†’ ì™¸ë¶€ ê³µìœ ê¹Œì§€. ê³¼ê¸ˆ ëª¨ë¸ì˜ í•µì‹¬ ê°€ì¹˜ ì „ë‹¬ ê²½ë¡œ.</div>
      </div>
      <span class="tag tag-orange">ëª©í‘œ ì „í™˜ìœ¨ â‰¥ 20%</span>
    </div>
    <div class="funnel-wrap" id="funnel-report"></div>
    <div style="margin-top:12px;padding:10px 12px;background:var(--s3);border-radius:8px;font-size:11px;color:var(--t3);line-height:1.7">
      <b style="color:var(--t2)">í–‰ë™ ë°ì´í„° ê²€ì¦ í¬ì¸íŠ¸:</b> report_item_addedì—ì„œ report_created ë¯¸ì „í™˜ ë¹„ìœ¨ì´ ë†’ë‹¤ë©´ ë¦¬í¬íŠ¸ ì‘ì„± í”Œë¡œìš° UI ê°œì„ . report_share_link_generatedë¥¼ ì•ˆ ëˆ„ë¥¸ë‹¤ë©´ ì‹¤ì œ ì‹¤ë¬´ì—ì„œ ê³µìœ ë¥¼ êº¼ë¦¬ëŠ” ì´ìœ ì— ëŒ€í•œ ì§‘ì¤‘ ë¶„ì„ í•„ìš”.
    </div>
  </div>

  <div class="card mb16" style="border-top:3px solid var(--green)">
    <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;flex-wrap:wrap;gap:8px">
      <div>
        <div style="font-size:13px;font-weight:800;color:#fff">â‘¢ AI í”¼ë“œë°± ìˆ˜ì§‘ í¼ë„</div>
        <div style="font-size:11px;color:var(--t4);margin-top:2px">íŒì • ê²°ê³¼ ì¡°íšŒ â†’ í”¼ë“œë°± ì œì¶œ. AI ëª¨ë¸ ì„±ëŠ¥ í–¥ìƒì„ ìœ„í•œ ë°ì´í„° ìˆ˜ì§‘.</div>
      </div>
      <span class="tag tag-green">ëª©í‘œ í”¼ë“œë°±ë¥  â‰¥ 40%</span>
    </div>
    <div class="funnel-wrap" id="funnel-feedback"></div>
    <div style="margin-top:12px;padding:10px 12px;background:var(--s3);border-radius:8px;font-size:11px;color:var(--t3);line-height:1.7">
      <b style="color:var(--t2)">í–‰ë™ ë°ì´í„° ê²€ì¦ í¬ì¸íŠ¸:</b> í”¼ë“œë°±ë¥ ì´ 40% ë¯¸ë§Œ ì‹œ "ë§ìŒ/í‹€ë¦¼" ë²„íŠ¼ ê°€ì‹œì„± ì¬ê²€í† . í‹€ë¦¼ ë¹„ìœ¨ì´ 20% ì´ˆê³¼ ì‹œ í”„ë¡¬í”„íŠ¸ íŠœë‹ ì¦‰ì‹œ ì°©ìˆ˜.
    </div>
  </div>

  <div class="card mb28" style="border-top:3px solid var(--blue)">
    <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;flex-wrap:wrap;gap:8px">
      <div>
        <div style="font-size:13px;font-weight:800;color:#fff">â‘£ ë¦¬í…ì…˜ í¼ë„ (D1 â†’ D7 â†’ D14)</div>
        <div style="font-size:11px;color:var(--t4);margin-top:2px">ê°€ì… í›„ ì¬ë°©ë¬¸ íŒ¨í„´. PMF(Product-Market Fit) ì§„ë‹¨ì˜ ìµœì¢… ì§€í‘œ.</div>
      </div>
      <span class="tag tag-blue">ëª©í‘œ D14 â‰¥ 40%</span>
    </div>
    <div class="funnel-wrap" id="funnel-retention"></div>
    <div style="margin-top:12px;padding:10px 12px;background:var(--s3);border-radius:8px;font-size:11px;color:var(--t3);line-height:1.7">
      <b style="color:var(--t2)">í–‰ë™ ë°ì´í„° ê²€ì¦ í¬ì¸íŠ¸:</b> D1 ë¦¬í…ì…˜ì´ 50% ë¯¸ë§Œ ì‹œ ì˜¨ë³´ë”© ì™„ë£Œ ì‹œì ì˜ 'Aha-moment' ë¶€ì¬. D7 â†’ D14 ì´íƒˆì´ ì‹¬ê°í•˜ë‹¤ë©´ ì¬ë°©ë¬¸ íŠ¸ë¦¬ê±°(ì´ë©”ì¼ ë¦¬ë§ˆì¸ë” ë“±) ì„¤ê³„ ê²€í† .
    </div>
  </div>

</div>


<div class="page" id="page-status">

  <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;flex-wrap:wrap;gap:8px">
    <div class="sec" style="margin:0;flex:1">ì´ë²¤íŠ¸ ì „ì²´ ê²€ì¦ ìƒíƒœ</div>
    <div style="display:flex;gap:10px;font-size:11px;flex-wrap:wrap">
      <span><span style="display:inline-block;width:8px;height:8px;border-radius:50%;background:var(--green);margin-right:4px"></span>í†µê³¼</span>
      <span><span style="display:inline-block;width:8px;height:8px;border-radius:50%;background:var(--red);margin-right:4px"></span>ì‹¤íŒ¨</span>
      <span><span style="display:inline-block;width:8px;height:8px;border-radius:50%;background:var(--t4);margin-right:4px"></span>ë¯¸ê²€ì¦</span>
      <span><span style="display:inline-block;width:8px;height:8px;border-radius:50%;background:var(--yellow);margin-right:4px"></span>ìŠ¤í‚µ</span>
    </div>
  </div>

  <div style="margin-bottom:16px">
    <div style="display:flex;justify-content:space-between;font-size:11px;margin-bottom:6px">
      <span style="color:var(--t3)">ì „ì²´ ê²€ì¦ ì§„í–‰ë¥ </span>
      <span id="status-pct-text" style="font-weight:700;color:var(--green)">0%</span>
    </div>
    <div class="prog-wrap" style="height:8px"><div class="prog" id="status-prog" style="background:var(--green);width:0%"></div></div>
  </div>

  <div class="g3 mb16" id="status-kpi"></div>

  <div class="ev-status-grid" id="status-grid"></div>

  <div id="status-detail" style="display:none" class="card mt12">
    <div id="status-detail-content"></div>
  </div>

</div>


<div class="page" id="page-queries">

  <div class="sec mb16">PostHog HogQL ê²€ì¦ ì¿¼ë¦¬ â€” ê³ ê° ì¸í„°ë·°ë¥¼ ëŒ€ì²´í•  í•µì‹¬ ì§€í‘œë“¤</div>

  <div class="sql-block mb12">
    <div class="sql-title">ğŸ“Š Q1 Â· ì˜¨ë³´ë”© ì „í™˜ìœ¨ (ìµœê·¼ 30ì¼)</div>
    <div class="sql-code">
<span class="sql-k">SELECT</span>
  <span class="sql-f">countIf</span>(event = <span class="sql-s">'user_signed_up'</span>)          <span class="sql-k">AS</span> signups,
  <span class="sql-f">countIf</span>(event = <span class="sql-s">'onboarding_completed'</span>)    <span class="sql-k">AS</span> onboarding_done,
  <span class="sql-f">countIf</span>(event = <span class="sql-s">'judgment_requested'</span>)      <span class="sql-k">AS</span> first_judgment,
  <span class="sql-f">round</span>(onboarding_done * 100.0 / signups, 1)  <span class="sql-k">AS</span> onboarding_rate,
  <span class="sql-f">round</span>(first_judgment * 100.0 / signups, 1)   <span class="sql-k">AS</span> activation_rate
<span class="sql-k">FROM</span> events
<span class="sql-k">WHERE</span> timestamp >= now() - <span class="sql-f">interval</span> 30 <span class="sql-k">day</span>
  <span class="sql-k">AND</span> properties.env = <span class="sql-s">'production'</span>
    </div>
    <div style="margin-top:8px;font-size:10px;color:var(--t4)">â†’ ëª©í‘œ: onboarding_rate â‰¥ 70%, activation_rate â‰¥ 50%</div>
  </div>

  <div class="sql-block mb12">
    <div class="sql-title">ğŸ¤– Q2 Â· AI íŒì • ì •í™•ë„ (ì£¼ê°„)</div>
    <div class="sql-code">
<span class="sql-k">SELECT</span>
  <span class="sql-f">toStartOfWeek</span>(timestamp)                         <span class="sql-k">AS</span> week,
  <span class="sql-f">countIf</span>(properties.feedback = <span class="sql-s">'correct'</span>)         <span class="sql-k">AS</span> correct,
  <span class="sql-f">countIf</span>(properties.feedback = <span class="sql-s">'wrong'</span>)           <span class="sql-k">AS</span> wrong,
  <span class="sql-f">round</span>(correct * 100.0 / (correct + wrong), 1)    <span class="sql-k">AS</span> accuracy_pct
<span class="sql-k">FROM</span> events
<span class="sql-k">WHERE</span> event = <span class="sql-s">'judgment_feedback_given'</span>
  <span class="sql-k">AND</span> timestamp >= now() - <span class="sql-f">interval</span> 8 <span class="sql-k">week</span>
<span class="sql-k">GROUP BY</span> week
<span class="sql-k">ORDER BY</span> week <span class="sql-k">DESC</span>
    </div>
    <div style="margin-top:8px;font-size:10px;color:var(--t4)">â†’ ëª©í‘œ: accuracy_pct â‰¥ 80%. 70% ë¯¸ë‹¬ ì‹œ í”„ë¡¬í”„íŠ¸ ê°œì„  íŠ¸ë¦¬ê±°.</div>
  </div>

  <div class="sql-block mb12">
    <div class="sql-title">ğŸ“ˆ Q3 Â· íŒì • ìœ í˜• ë¶„í¬ (ìµœê·¼ 7ì¼)</div>
    <div class="sql-code">
<span class="sql-k">SELECT</span>
  properties.judgment                                  <span class="sql-k">AS</span> judgment_type,
  <span class="sql-f">count</span>()                                            <span class="sql-k">AS</span> cnt,
  <span class="sql-f">round</span>(cnt * 100.0 / <span class="sql-f">sum</span>(cnt) <span class="sql-k">OVER</span> (), 1)          <span class="sql-k">AS</span> pct,
  <span class="sql-f">avg</span>(<span class="sql-f">toFloat64</span>(properties.confidence))              <span class="sql-k">AS</span> avg_confidence,
  <span class="sql-f">avg</span>(<span class="sql-f">toFloat64</span>(properties.duration_ms))             <span class="sql-k">AS</span> avg_duration_ms
<span class="sql-k">FROM</span> events
<span class="sql-k">WHERE</span> event = <span class="sql-s">'judgment_completed'</span>
  <span class="sql-k">AND</span> timestamp >= now() - <span class="sql-f">interval</span> 7 <span class="sql-k">day</span>
<span class="sql-k">GROUP BY</span> judgment_type
    </div>
    <div style="margin-top:8px;font-size:10px;color:var(--t4)">â†’ unclear ë¹„ìœ¨ 30% ì´ˆê³¼ ì‹œ ê³„ì•½ì„œ í’ˆì§ˆ ë˜ëŠ” í”„ë¡¬í”„íŠ¸ ê°œì„  ê²€í† .</div>
  </div>

  <div class="sql-block mb12">
    <div class="sql-title">âš¡ Q4 Â· AI ì‘ë‹µ ì‹œê°„ ë¶„í¬ (P50 / P95 / P99)</div>
    <div class="sql-code">
<span class="sql-k">SELECT</span>
  <span class="sql-f">quantile</span>(0.50)(<span class="sql-f">toFloat64</span>(properties.duration_ms))  <span class="sql-k">AS</span> p50_ms,
  <span class="sql-f">quantile</span>(0.95)(<span class="sql-f">toFloat64</span>(properties.duration_ms))  <span class="sql-k">AS</span> p95_ms,
  <span class="sql-f">quantile</span>(0.99)(<span class="sql-f">toFloat64</span>(properties.duration_ms))  <span class="sql-k">AS</span> p99_ms,
  <span class="sql-f">countIf</span>(properties.fast_path = <span class="sql-s">'true'</span>)             <span class="sql-k">AS</span> fast_path_cnt,
  <span class="sql-f">round</span>(fast_path_cnt * 100.0 / <span class="sql-f">count</span>(), 1)          <span class="sql-k">AS</span> fast_path_pct
<span class="sql-k">FROM</span> events
<span class="sql-k">WHERE</span> event = <span class="sql-s">'judgment_completed'</span>
  <span class="sql-k">AND</span> timestamp >= now() - <span class="sql-f">interval</span> 7 <span class="sql-k">day</span>
    </div>
    <div style="margin-top:8px;font-size:10px;color:var(--t4)">â†’ p95_ms â‰¤ 3000 ëª©í‘œ. p99_ms â‰¤ 5000. fast_path_pct ë†’ì„ìˆ˜ë¡ ë¹„ìš© ì ˆê°.</div>
  </div>

  <div class="sql-block mb12">
    <div class="sql-title">ğŸ”´ Q5 Â· API ì˜¤ë¥˜ ìœ í˜•ë³„ ì§‘ê³„</div>
    <div class="sql-code">
<span class="sql-k">SELECT</span>
  properties.error_type                               <span class="sql-k">AS</span> error_type,
  <span class="sql-f">count</span>()                                           <span class="sql-k">AS</span> cnt,
  <span class="sql-f">countIf</span>(properties.retry_count > <span class="sql-s">'0'</span>)             <span class="sql-k">AS</span> retried,
  <span class="sql-f">countIf</span>(properties.fallback = <span class="sql-s">'unclear'</span>)         <span class="sql-k">AS</span> fell_back
<span class="sql-k">FROM</span> events
<span class="sql-k">WHERE</span> event <span class="sql-k">IN</span> (<span class="sql-s">'judgment_api_error'</span>, <span class="sql-s">'contract_analysis_failed'</span>)
  <span class="sql-k">AND</span> timestamp >= now() - <span class="sql-f">interval</span> 7 <span class="sql-k">day</span>
<span class="sql-k">GROUP BY</span> error_type
<span class="sql-k">ORDER BY</span> cnt <span class="sql-k">DESC</span>
    </div>
    <div style="margin-top:8px;font-size:10px;color:var(--t4)">â†’ timeout ë¹„ìœ¨ 5% ì´ˆê³¼ ì‹œ Claude API ì‘ë‹µ ì‹œê°„ ë¬¸ì œ. parse_fail ì—°ì† ì‹œ í”„ë¡¬í”„íŠ¸ JSON í˜•ì‹ ê²€í† .</div>
  </div>

  <div class="sql-block mb12">
    <div class="sql-title">ğŸ”— Q6 Â· ë¦¬í¬íŠ¸ ì „í™˜ í¼ë„ (out_of_scope â†’ share)</div>
    <div class="sql-code">
<span class="sql-k">SELECT</span>
  <span class="sql-f">uniqIf</span>(distinct_id, event = <span class="sql-s">'judgment_out_of_scope_viewed'</span>)  <span class="sql-k">AS</span> saw_out,
  <span class="sql-f">uniqIf</span>(distinct_id, event = <span class="sql-s">'report_item_added'</span>)             <span class="sql-k">AS</span> added_item,
  <span class="sql-f">uniqIf</span>(distinct_id, event = <span class="sql-s">'report_created'</span>)                <span class="sql-k">AS</span> created,
  <span class="sql-f">uniqIf</span>(distinct_id, event = <span class="sql-s">'report_share_link_generated'</span>)   <span class="sql-k">AS</span> shared,
  <span class="sql-f">round</span>(shared * 100.0 / <span class="sql-f">nullIf</span>(saw_out, 0), 1)                <span class="sql-k">AS</span> share_rate
<span class="sql-k">FROM</span> events
<span class="sql-k">WHERE</span> timestamp >= now() - <span class="sql-f">interval</span> 30 <span class="sql-k">day</span>
    </div>
    <div style="margin-top:8px;font-size:10px;color:var(--t4)">â†’ share_rate â‰¥ 20% ëª©í‘œ. ë¹„ì¦ˆë‹ˆìŠ¤ í•µì‹¬ ì§€í‘œì™€ ì§ê²°.</div>
  </div>

  <div class="sql-block mb12">
    <div class="sql-title">ğŸ“… Q7 Â· DAU / WAU íŠ¸ë Œë“œ (ìµœê·¼ 4ì£¼)</div>
    <div class="sql-code">
<span class="sql-k">SELECT</span>
  <span class="sql-f">toStartOfDay</span>(timestamp)         <span class="sql-k">AS</span> day,
  <span class="sql-f">uniq</span>(distinct_id)              <span class="sql-k">AS</span> dau,
  <span class="sql-f">count</span>()                        <span class="sql-k">AS</span> session_count,
  <span class="sql-f">round</span>(session_count / dau, 1)  <span class="sql-k">AS</span> sessions_per_user
<span class="sql-k">FROM</span> events
<span class="sql-k">WHERE</span> event = <span class="sql-s">'session_started'</span>
  <span class="sql-k">AND</span> timestamp >= now() - <span class="sql-f">interval</span> 28 <span class="sql-k">day</span>
<span class="sql-k">GROUP BY</span> day
<span class="sql-k">ORDER BY</span> day
    </div>
    <div style="margin-top:8px;font-size:10px;color:var(--t4)">â†’ WAU 30ëª…+ ë‹¬ì„± í™•ì¸. sessions_per_user â‰¥ 1.5 ì´ë©´ ë°˜ë³µ ì‚¬ìš© íŒ¨í„´ í˜•ì„±.</div>
  </div>

  <div class="sql-block mb28">
    <div class="sql-title">ğŸ Q8 Â· PMF ì„¤ë¬¸ ì ìˆ˜ ì§‘ê³„ (Sean Ellis Test)</div>
    <div class="sql-code">
<span class="sql-k">SELECT</span>
  properties.score                                     <span class="sql-k">AS</span> response,
  <span class="sql-f">count</span>()                                            <span class="sql-k">AS</span> cnt,
  <span class="sql-f">round</span>(cnt * 100.0 / <span class="sql-f">sum</span>(cnt) <span class="sql-k">OVER</span> (), 1)          <span class="sql-k">AS</span> pct
<span class="sql-k">FROM</span> events
<span class="sql-k">WHERE</span> event = <span class="sql-s">'feedback_survey_completed'</span>
<span class="sql-k">GROUP BY</span> response
<span class="sql-k">ORDER BY</span> cnt <span class="sql-k">DESC</span>

<span class="sql-c">-- PMF ë‹¬ì„± ì¡°ê±´:</span>
<span class="sql-c">-- response = 'very_disappointed' ì˜ pct >= 40%</span>
    </div>
    <div style="margin-top:8px;font-size:10px;color:var(--t4)">â†’ very_disappointed â‰¥ 40% = PMF ë‹¬ì„± ì‹ í˜¸. ì´ ë°ì´í„°ê°€ ì¸í„°ë·°ì˜ ìµœì¢… ëŒ€ì²´ì¬ ì—­í• ì„ í•©ë‹ˆë‹¤.</div>
  </div>

</div>


<div class="page" id="page-timeline">

  <div class="sec mb16">ê²€ì¦ ì‹¤í–‰ íƒ€ì„ë¼ì¸ â€” W7 ~ W12</div>

  <div class="timeline">

    <div class="tl-item">
      <div class="tl-dot" style="background:var(--blue);color:#fff">W7</div>
      <div class="tl-head">
        <div class="tl-title">SDK ì„¤ì¹˜ & ê¸°ë³¸ ì´ë²¤íŠ¸ ê²€ì¦</div>
        <span class="tl-time">ê°œë°œ í™˜ê²½</span>
        <span class="tag tag-blue">Day 1~3</span>
      </div>
      <div class="tl-body">
        posthog-js ì„¤ì¹˜, initPostHog() êµ¬í˜„. <code class="tl-code">posthog.debug()</code> í™œì„±í™”.
        íšŒì›ê°€ì… í”Œë¡œìš° ì‹¤í–‰ í›„ DevTools Network íƒ­ì—ì„œ <code class="tl-code">user_signed_up</code> ìš”ì²­ ìˆ˜ë™ í™•ì¸.
        ê³µí†µ í”„ë¡œí¼í‹° (app_version, env, $user_id) í¬í•¨ ì—¬ë¶€ ê²€ì¦.
      </div>
      <div style="margin-top:8px;display:flex;gap:6px;flex-wrap:wrap">
        <span class="tag tag-cyan">user_signed_up</span>
        <span class="tag tag-cyan">onboarding_completed</span>
        <span class="tag tag-cyan">project_created</span>
        <span class="tag tag-cyan">contract_analyzed</span>
      </div>
    </div>

    <div class="tl-item">
      <div class="tl-dot" style="background:var(--yellow);color:#000">W8</div>
      <div class="tl-head">
        <div class="tl-title">AI íŒì • ì´ë²¤íŠ¸ & í¼ë„ ì´ë²¤íŠ¸ ê²€ì¦</div>
        <span class="tl-time">ê°œë°œ í™˜ê²½</span>
        <span class="tag tag-yellow">Day 4~7</span>
      </div>
      <div class="tl-body">
        AI íŒì • ì „ì²´ íë¦„ (ìš”ì²­ â†’ ì™„ë£Œ â†’ í”¼ë“œë°±) ì´ë²¤íŠ¸ ë°œí™” í™•ì¸.
        Fast Path ë™ì‘ ì‹œ <code class="tl-code">fast_path: true</code> í”„ë¡œí¼í‹° í™•ì¸.
        confidence &lt; 0.70 ì¼€ì´ìŠ¤ì—ì„œ <code class="tl-code">judgment: 'unclear'</code> í™•ì¸.
        ì˜¤ë¥˜ ì¼€ì´ìŠ¤ (API 500, íƒ€ì„ì•„ì›ƒ) ê°•ì œ ë°œìƒ í›„ ì—ëŸ¬ ì´ë²¤íŠ¸ ê²€ì¦.
      </div>
      <div style="margin-top:8px;display:flex;gap:6px;flex-wrap:wrap">
        <span class="tag tag-cyan">judgment_requested</span>
        <span class="tag tag-cyan">judgment_completed</span>
        <span class="tag tag-cyan">judgment_feedback_given</span>
        <span class="tag tag-cyan">judgment_api_error</span>
      </div>
    </div>

    <div class="tl-item">
      <div class="tl-dot" style="background:var(--orange);color:#fff">W9</div>
      <div class="tl-head">
        <div class="tl-title">ë¦¬í¬íŠ¸Â·ê³µìœ  ì´ë²¤íŠ¸ + Staging ê²€ì¦</div>
        <span class="tl-time">Staging í™˜ê²½</span>
        <span class="tag tag-orange">Day 8~12</span>
      </div>
      <div class="tl-body">
        Staging PostHog í”„ë¡œì íŠ¸ë¡œ í‚¤ ì „í™˜. ë¦¬í¬íŠ¸ ìƒì„± ì „ì²´ í”Œë¡œìš° ì‹¤í–‰ í›„ PostHog Insightsì—ì„œ ì´ë²¤íŠ¸ ìˆ˜ì‹  í™•ì¸.
        ë¹„ë¡œê·¸ì¸ ê³µê°œ ë§í¬ ì ‘ê·¼ â†’ <code class="tl-code">report_viewed_public</code> ë°œí™” í™•ì¸.
        PostHog Funnel Insightì—ì„œ ì˜¨ë³´ë”© í¼ë„ ì§‘ê³„ ë™ì‘ ê²€ì¦.
      </div>
      <div style="margin-top:8px;display:flex;gap:6px;flex-wrap:wrap">
        <span class="tag tag-cyan">report_created</span>
        <span class="tag tag-cyan">report_share_link_generated</span>
        <span class="tag tag-cyan">report_viewed_public</span>
        <span class="tag tag-cyan">billing_record_created</span>
      </div>
    </div>

    <div class="tl-item">
      <div class="tl-dot" style="background:var(--purple);color:#fff">W10</div>
      <div class="tl-head">
        <div class="tl-title">ë¦¬í…ì…˜ ì´ë²¤íŠ¸ & Alerts ì„¤ì •</div>
        <span class="tl-time">Staging â†’ Prod ì¤€ë¹„</span>
        <span class="tag tag-purple">Day 13~16</span>
      </div>
      <div class="tl-body">
        <code class="tl-code">session_started</code> ê¸°ë°˜ DAU/WAU ì§‘ê³„ ë™ì‘ í™•ì¸.
        PostHog Alerts 4ê°œ ì„¤ì •: AI ì˜¤ë¥˜ìœ¨ ê¸‰ë“± / ì •í™•ë„ í•˜ë½ / ì‹ ê·œ ê°€ì… ê¸‰ì¦ / ì´íƒˆ ê°ì§€.
        <code class="tl-code">user_churned</code> ì´ë²¤íŠ¸ ë¡œì§ êµ¬í˜„ (14ì¼ ë¯¸ì ‘ì† ë°°ì¹˜ ì¡).
        Q1~Q8 ì¿¼ë¦¬ ì „ì²´ ì‹¤í–‰ í›„ ê²°ê³¼ê°’ ì˜ˆìƒì¹˜ì™€ ëŒ€ì¡°.
      </div>
      <div style="margin-top:8px;display:flex;gap:6px;flex-wrap:wrap">
        <span class="tag tag-cyan">session_started</span>
        <span class="tag tag-cyan">weekly_active_streak</span>
        <span class="tag tag-cyan">user_churned</span>
        <span class="tag tag-cyan">feedback_survey_completed</span>
      </div>
    </div>

    <div class="tl-item">
      <div class="tl-dot" style="background:var(--green);color:#fff">W11</div>
      <div class="tl-head">
        <div class="tl-title">í”„ë¡œë•ì…˜ ë°°í¬ & ì²« ì‹¤ì‚¬ìš©ì ê²€ì¦</div>
        <span class="tl-time">í”„ë¡œë•ì…˜</span>
        <span class="tag tag-green">Day 17~21</span>
      </div>
      <div class="tl-body">
        í”„ë¡œë•ì…˜ PostHog í‚¤ë¡œ ì „í™˜. ì²« ë² íƒ€ ì‚¬ìš©ì 5ëª… ì˜¨ë³´ë”© ì§„í–‰í•˜ë©° ì‹¤ì‹œê°„ ì´ë²¤íŠ¸ ìˆ˜ì‹  ëª¨ë‹ˆí„°ë§.
        DevTools ì—´ë¦° ì±„ë¡œ ì‹¤ì‚¬ìš©ìì™€ í•¨ê»˜ ì „ì²´ í”Œë¡œìš° ìˆ˜í–‰. 24ì‹œê°„ ë‚´ ëª¨ë“  í•µì‹¬ ì´ë²¤íŠ¸ ìˆ˜ì‹  í™•ì¸.
        ì´ë²¤íŠ¸ ëˆ„ë½ìœ¨ ëª©í‘œ: &lt; 2%.
      </div>
      <div style="margin-top:8px;padding:8px 10px;background:rgba(16,185,129,.06);border:1px solid rgba(16,185,129,.2);border-radius:6px;font-size:11px;color:var(--green)">
        âœ… ì„±ê³µ ê¸°ì¤€: 32ê°œ ì´ë²¤íŠ¸ ëª¨ë‘ PostHog Prodì—ì„œ ìˆ˜ì‹  í™•ì¸ + Q1~Q8 ì¿¼ë¦¬ ë°ì´í„° ë°˜í™˜
      </div>
    </div>

    <div class="tl-item">
      <div class="tl-dot" style="background:var(--cyan);color:#000">W12</div>
      <div class="tl-head">
        <div class="tl-title">PMF ì¸¡ì • ì¤€ë¹„ & ì§€ì† ëª¨ë‹ˆí„°ë§ ì²´ê³„ í™•ë¦½</div>
        <span class="tl-time">í”„ë¡œë•ì…˜</span>
        <span class="tag tag-cyan">Day 22~28</span>
      </div>
      <div class="tl-body">
        PostHog Dashboard: ì˜¨ë³´ë”© í¼ë„ / AI ì •í™•ë„ íŠ¸ë Œë“œ / D14 ë¦¬í…ì…˜ / PMF ì„¤ë¬¸ ì ìˆ˜ 4ê°œ ìœ„ì ¯ ì„¸íŒ….
        PMF ì„¤ë¬¸ íŠ¸ë¦¬ê±° ë¡œì§ êµ¬í˜„: ì²« íŒì • í›„ 7ì¼ ê²½ê³¼ ì‚¬ìš©ìì—ê²Œ ìë™ ë°œì†¡.
        ì£¼ê°„ ë¦¬ë·° ë£¨í‹´ í™•ë¦½: ë§¤ì£¼ ì›”ìš”ì¼ Q1~Q8 ì¿¼ë¦¬ ì‹¤í–‰ + ì´ìƒê°’ ì²´í¬.
      </div>
      <div style="margin-top:8px;padding:8px 10px;background:rgba(79,128,255,.06);border:1px solid rgba(79,128,255,.2);border-radius:6px;font-size:11px;color:var(--blue)">
        ğŸ¯ ìµœì¢… ëª©í‘œ: WAU 30ëª…+ / AI ì •í™•ë„ 80%+ / D14 ë¦¬í…ì…˜ 40%+ / PMF ì„¤ë¬¸ 40%+
      </div>
    </div>

  </div>

</div>


<script>
/* â”€â”€â”€ íƒ­ ì „í™˜ â”€â”€â”€ */
function go(id, el) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('on'));
  document.querySelectorAll('.tab').forEach(t => t.classList.remove('on'));
  document.getElementById('page-' + id).classList.add('on');
  el.classList.add('on');
}

/* â”€â”€â”€ ì´ë²¤íŠ¸ ë°ì´í„° â”€â”€â”€ */
const EVENTS = [
  // ì˜¨ë³´ë”©
  { id:'user_signed_up', group:'onboarding', color:'purple', priority:'P0',
    trigger:'íšŒì›ê°€ì… ì™„ë£Œ (ì´ë©”ì¼ ì¸ì¦ ì™„ë£Œ í›„ ë˜ëŠ” Google OAuth ì™„ë£Œ ì¦‰ì‹œ)',
    location:'src/app/auth/callback/route.ts (ì„œë²„) ë˜ëŠ” signUp() ì™„ë£Œ í›„',
    props:[
      {name:'method', type:'string', ex:'"email"|"google"', req:'í•„ìˆ˜'},
      {name:'referrer', type:'string', ex:'"https://linkedin.com"', req:'ì„ íƒ'},
      {name:'utm_source', type:'string', ex:'"linkedin"', req:'ì„ íƒ'},
    ],
    verify:[
      'ì´ë©”ì¼ ê°€ì… í›„ Network íƒ­ì—ì„œ /e/? ìš”ì²­ í™•ì¸',
      'Google OAuth ì™„ë£Œ í›„ ì¦‰ì‹œ ë°œí™” (íŒì—… ë‹«í˜ ì‹œì )',
      'method ê°’ì´ "email" ë˜ëŠ” "google" ì¤‘ í•˜ë‚˜ì¸ì§€ í™•ì¸',
      'ë™ì¼ ì‚¬ìš©ì ì¬ê°€ì… ì‹œ ì¤‘ë³µ ë°œí™” ì—†ìŒ í™•ì¸',
    ],
    code: `track('user_signed_up', {\n  method: 'google',\n  referrer: document.referrer,\n  utm_source: searchParams.get('utm_source')\n})`
  },
  { id:'onboarding_step_completed', group:'onboarding', color:'purple', priority:'P0',
    trigger:'ì˜¨ë³´ë”© ê° ë‹¨ê³„ "ë‹¤ìŒ" ë˜ëŠ” "ê±´ë„ˆë›°ê¸°" ë²„íŠ¼ í´ë¦­ ì‹œ',
    location:'src/components/onboarding/OnboardingStep.tsx',
    props:[
      {name:'step', type:'number', ex:'1 | 2', req:'í•„ìˆ˜'},
      {name:'skipped', type:'boolean', ex:'false', req:'í•„ìˆ˜'},
      {name:'agency_name_filled', type:'boolean', ex:'true', req:'ì„ íƒ'},
      {name:'hourly_rate_set', type:'boolean', ex:'true', req:'ì„ íƒ (step=1)'},
    ],
    verify:[
      'step=1, skipped=false ë°œí™” í™•ì¸',
      'ê±´ë„ˆë›°ê¸° í´ë¦­ ì‹œ skipped=true ë°œí™” í™•ì¸',
      'step=2ì—ì„œ ë°œí™” í›„ onboarding_completed ì—°ì† ë°œí™” í™•ì¸',
    ],
    code: `track('onboarding_step_completed', {\n  step: 1,\n  skipped: false,\n  agency_name_filled: !!agencyName,\n  hourly_rate_set: !!hourlyRate\n})`
  },
  { id:'onboarding_completed', group:'onboarding', color:'purple', priority:'P0',
    trigger:'ì˜¨ë³´ë”© ë§ˆì§€ë§‰ ë‹¨ê³„ ì™„ë£Œ â†’ ëŒ€ì‹œë³´ë“œ ì´ë™ ì§ì „',
    location:'src/components/onboarding/OnboardingFlow.tsx',
    props:[
      {name:'has_contract', type:'boolean', ex:'true', req:'í•„ìˆ˜'},
      {name:'hourly_rate_set', type:'boolean', ex:'true', req:'í•„ìˆ˜'},
      {name:'duration_seconds', type:'number', ex:'120', req:'í•„ìˆ˜'},
    ],
    verify:[
      'has_completed_onboarding DB í”Œë˜ê·¸ ì €ì¥ í™•ì¸ í›„ ì´ë²¤íŠ¸ ë°œí™”',
      'duration_seconds = ê°€ì… ì‹œì ë¶€í„° ì˜¨ë³´ë”© ì™„ë£Œ ì‹œì  ê²½ê³¼ ì´ˆ',
      'ì¬ë¡œê·¸ì¸ ì‹œ ì˜¨ë³´ë”©_completed ì¬ë°œí™” ì—†ìŒ í™•ì¸',
    ],
    code: `track('onboarding_completed', {\n  has_contract: !!contractText,\n  hourly_rate_set: !!user.hourly_rate,\n  duration_seconds: Math.round((Date.now() - signupTime) / 1000)\n})`
  },
  { id:'contract_analyzed', group:'onboarding', color:'purple', priority:'P0',
    trigger:'Claude API ê³„ì•½ì„œ ë¶„ì„ ì„±ê³µ ì‘ë‹µ ìˆ˜ì‹  í›„',
    location:'src/app/api/analyze-contract/route.ts',
    props:[
      {name:'included_count', type:'number', ex:'5', req:'í•„ìˆ˜'},
      {name:'excluded_count', type:'number', ex:'3', req:'í•„ìˆ˜'},
      {name:'unclear_count', type:'number', ex:'2', req:'í•„ìˆ˜'},
      {name:'analysis_duration_ms', type:'number', ex:'2340', req:'í•„ìˆ˜'},
    ],
    verify:[
      'ì„±ê³µ ì‹œì—ë§Œ ë°œí™” (ì‹¤íŒ¨ ì‹œ contract_analysis_failed ë°œí™”)',
      'analysis_duration_msê°€ ì‹¤ì œ API ì‘ë‹µ ì‹œê°„ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸',
      'included_count + excluded_count + unclear_count í•©ê³„ > 0 í™•ì¸',
    ],
    code: `const start = Date.now()\nconst result = await analyzeContract(text)\ntrack('contract_analyzed', {\n  included_count: result.included.length,\n  excluded_count: result.excluded.length,\n  unclear_count: result.unclear.length,\n  analysis_duration_ms: Date.now() - start\n})`
  },
  // íŒì •
  { id:'judgment_requested', group:'judgment', color:'blue', priority:'P0',
    trigger:'íŒì • ìš”ì²­ ì œì¶œ ë²„íŠ¼ í´ë¦­ ì§í›„ (AI í˜¸ì¶œ ì „)',
    location:'src/components/judgment/JudgmentForm.tsx',
    props:[
      {name:'project_id', type:'string', ex:'"uuid-xxx"', req:'í•„ìˆ˜'},
      {name:'input_type', type:'string', ex:'"request"', req:'í•„ìˆ˜'},
      {name:'text_length', type:'number', ex:'234', req:'í•„ìˆ˜'},
      {name:'fast_path', type:'boolean', ex:'false', req:'í•„ìˆ˜'},
    ],
    verify:[
      'AI í˜¸ì¶œ ì „ì— ë°œí™”í•˜ëŠ”ì§€ í™•ì¸ (ë²„íŠ¼ í´ë¦­ ì¦‰ì‹œ)',
      'input_type="none" ì‹œì—ë„ ë°œí™” (AI ë¯¸í˜¸ì¶œ ê²½ë¡œ)',
      'text_lengthê°€ ì‹¤ì œ ì…ë ¥ ê¸¸ì´ì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸',
    ],
    code: `track('judgment_requested', {\n  project_id: project.id,\n  input_type: inputType,\n  text_length: requestText.length,\n  fast_path: isFastPath\n})`
  },
  { id:'judgment_completed', group:'judgment', color:'blue', priority:'P0',
    trigger:'AI íŒì • ê²°ê³¼ ìˆ˜ì‹  ì™„ë£Œ í›„ (Fast Path í¬í•¨)',
    location:'src/app/api/judge/route.ts ì‘ë‹µ ì²˜ë¦¬ í›„',
    props:[
      {name:'judgment', type:'string', ex:'"out_of_scope"', req:'í•„ìˆ˜'},
      {name:'confidence', type:'float', ex:'0.92', req:'í•„ìˆ˜'},
      {name:'duration_ms', type:'number', ex:'1840', req:'í•„ìˆ˜'},
      {name:'fast_path', type:'boolean', ex:'false', req:'í•„ìˆ˜'},
      {name:'estimated_cost', type:'number', ex:'180000', req:'ì„ íƒ'},
    ],
    verify:[
      'judgment ê°’ì´ "in_scope"|"out_of_scope"|"unclear" ì¤‘ í•˜ë‚˜ì¸ì§€ í™•ì¸',
      'confidenceê°€ 0.70 ë¯¸ë§Œì¸ ê²½ìš° judgment="unclear" ê°•ì œ í™•ì¸',
      'fast_path=true ì‹œ duration_msê°€ í˜„ì €íˆ ì§§ì€ì§€ í™•ì¸ (< 200ms)',
      'estimated_costëŠ” out_of_scope ì‹œì—ë§Œ í¬í•¨',
    ],
    code: `track('judgment_completed', {\n  judgment: result.judgment,\n  confidence: result.confidence,\n  duration_ms: Date.now() - startTime,\n  fast_path: result.fast_path,\n  estimated_cost: result.estimated_cost ?? 0\n})`
  },
  { id:'judgment_feedback_given', group:'judgment', color:'blue', priority:'P0',
    trigger:'ë§ìŒ/í‹€ë¦¼ ë²„íŠ¼ í´ë¦­ í›„ í”¼ë“œë°± ì €ì¥ ì™„ë£Œ ì‹œ',
    location:'src/components/judgment/FeedbackButtons.tsx',
    props:[
      {name:'feedback', type:'string', ex:'"wrong"', req:'í•„ìˆ˜'},
      {name:'original_judgment', type:'string', ex:'"in_scope"', req:'í•„ìˆ˜'},
      {name:'corrected_judgment', type:'string', ex:'"out_of_scope"', req:'ì¡°ê±´ë¶€ (wrong ì‹œ)'},
      {name:'has_reason', type:'boolean', ex:'true', req:'í•„ìˆ˜'},
      {name:'judgment_id', type:'string', ex:'"uuid-xxx"', req:'í•„ìˆ˜'},
    ],
    verify:[
      'í”¼ë“œë°± ë²„íŠ¼ í´ë¦­ ì¦‰ì‹œ ë¹„í™œì„±í™” â†’ ì¤‘ë³µ ë°œí™” ì—†ìŒ',
      'feedback="correct" ì‹œ corrected_judgment ë¯¸í¬í•¨ í™•ì¸',
      'DB ì €ì¥ ì„±ê³µ í›„ ë°œí™” (ì €ì¥ ì‹¤íŒ¨ ì‹œ ë¯¸ë°œí™”)',
    ],
    code: `track('judgment_feedback_given', {\n  feedback: feedbackType,\n  original_judgment: judgment.ai_judgment,\n  corrected_judgment: corrected || undefined,\n  has_reason: reason.length > 0,\n  judgment_id: judgment.id\n})`
  },
  { id:'judgment_api_error', group:'judgment', color:'blue', priority:'P0',
    trigger:'AI íŒì • API ì˜¤ë¥˜ ë°œìƒ ì‹œ (íƒ€ì„ì•„ì›ƒ, 500, íŒŒì‹± ì‹¤íŒ¨)',
    location:'src/app/api/judge/route.ts ì—ëŸ¬ í•¸ë“¤ëŸ¬',
    props:[
      {name:'error_type', type:'string', ex:'"timeout"', req:'í•„ìˆ˜'},
      {name:'retry_count', type:'number', ex:'1', req:'í•„ìˆ˜'},
      {name:'fallback', type:'string', ex:'"unclear"', req:'í•„ìˆ˜'},
    ],
    verify:[
      'DevToolsì—ì„œ API ì‘ë‹µ ê°•ì œ ì§€ì—°(throttle) í›„ ë°œí™” í™•ì¸',
      'retry_countê°€ ì‹¤ì œ ì¬ì‹œë„ íšŸìˆ˜ì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸',
      'judgment_completedì™€ ë™ì‹œ ë°œí™” ì—†ìŒ í™•ì¸ (ì—ëŸ¬ ì‹œ completed ë¯¸ë°œí™”)',
    ],
    code: `track('judgment_api_error', {\n  error_type: 'timeout', // 'api_error' | 'parse_fail'\n  retry_count: retries,\n  fallback: 'unclear'\n})`
  },
  // ë¦¬í¬íŠ¸
  { id:'report_created', group:'report', color:'orange', priority:'P1',
    trigger:'ë¦¬í¬íŠ¸ ìƒì„± ë²„íŠ¼ í´ë¦­ í›„ DB ì €ì¥ ì™„ë£Œ ì‹œ',
    location:'src/app/api/reports/route.ts',
    props:[
      {name:'item_count', type:'number', ex:'3', req:'í•„ìˆ˜'},
      {name:'total_estimated_cost', type:'number', ex:'540000', req:'í•„ìˆ˜'},
      {name:'has_manual_adjustment', type:'boolean', ex:'false', req:'í•„ìˆ˜'},
    ],
    verify:[
      'item_countê°€ ì‹¤ì œ ì„ íƒëœ íŒì • í•­ëª© ìˆ˜ì™€ ì¼ì¹˜',
      'ìˆ˜ë™ ì¡°ì • ì‹œ has_manual_adjustment=true í™•ì¸',
      'DB ì €ì¥ ì‹¤íŒ¨ ì‹œ ì´ë²¤íŠ¸ ë¯¸ë°œí™” í™•ì¸',
    ],
    code: `track('report_created', {\n  item_count: items.length,\n  total_estimated_cost: totalCost,\n  has_manual_adjustment: items.some(i => i.adjusted)\n})`
  },
  { id:'report_share_link_generated', group:'report', color:'orange', priority:'P1',
    trigger:'ê³µìœ  ë§í¬ ìƒì„± ì™„ë£Œ (í† í° ë°œê¸‰ í›„)',
    location:'src/app/api/reports/[id]/share/route.ts',
    props:[
      {name:'expires_in_days', type:'number|null', ex:'30', req:'í•„ìˆ˜'},
      {name:'report_id', type:'string', ex:'"uuid-xxx"', req:'í•„ìˆ˜'},
    ],
    verify:[
      'ë¬´ê¸°í•œ ì„ íƒ ì‹œ expires_in_days=null í™•ì¸',
      'ë§í¬ ë°œê¸‰ í›„ ì‹¤ì œ URLì´ í´ë¦½ë³´ë“œì— ì €ì¥ë˜ëŠ”ì§€ í™•ì¸',
      'í† í° ì¤‘ë³µ ìƒì„± ë°©ì§€ (ë™ì¼ ë¦¬í¬íŠ¸ ì¬ë°œê¸‰ ì‹œ ê¸°ì¡´ í† í° ë¬´íš¨í™”)',
    ],
    code: `track('report_share_link_generated', {\n  expires_in_days: expiry ?? null,\n  report_id: report.id\n})`
  },
  { id:'report_viewed_public', group:'report', color:'orange', priority:'P1',
    trigger:'ë¹„ì¸ì¦ ì‚¬ìš©ìê°€ ê³µê°œ ê³µìœ  ë§í¬ë¡œ ë¦¬í¬íŠ¸ ì ‘ê·¼ ì‹œ',
    location:'src/app/report/[token]/page.tsx (ì„œë²„ ì»´í¬ë„ŒíŠ¸)',
    props:[
      {name:'report_id', type:'string', ex:'"uuid-xxx"', req:'í•„ìˆ˜'},
      {name:'is_expired', type:'boolean', ex:'false', req:'í•„ìˆ˜'},
      {name:'referrer', type:'string', ex:'"direct"', req:'ì„ íƒ'},
    ],
    verify:[
      'ë¹„ë¡œê·¸ì¸ ìƒíƒœì—ì„œ ê³µìœ  URL ì ‘ê·¼ í›„ ì´ë²¤íŠ¸ ë°œí™” í™•ì¸',
      'ë§Œë£Œëœ ë§í¬ ì ‘ê·¼ ì‹œ is_expired=true + 404 ë Œë”ë§ í™•ì¸',
      'ì‹œê¸‰Â·ì²­êµ¬ì´ë ¥ ë°ì´í„°ê°€ ì‘ë‹µì— í¬í•¨ë˜ì§€ ì•ŠëŠ”ì§€ Network íƒ­ í™•ì¸',
    ],
    code: `// ì„œë²„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°œí™”\nposthog.capture('report_viewed_public', {\n  report_id: reportId,\n  is_expired: isExpired,\n  referrer: headers().get('referer') ?? 'direct'\n})`
  },
  // ë¦¬í…ì…˜
  { id:'session_started', group:'retention', color:'green', priority:'P0',
    trigger:'ì•± ìµœì´ˆ ì§„ì… ì‹œ (í˜ì´ì§€ ë¡œë“œ + ì¸ì¦ í™•ì¸ ì™„ë£Œ í›„)',
    location:'src/app/layout.tsx ë˜ëŠ” AuthProvider',
    props:[
      {name:'days_since_signup', type:'number', ex:'7', req:'í•„ìˆ˜'},
      {name:'total_judgments_lifetime', type:'number', ex:'23', req:'í•„ìˆ˜'},
    ],
    verify:[
      'ë¡œê·¸ì¸ ìƒíƒœì—ì„œë§Œ ë°œí™” (ë¹„ë¡œê·¸ì¸ í˜ì´ì§€ ì§„ì… ì‹œ ë¯¸ë°œí™”)',
      'ê°™ì€ ë‚  ì—¬ëŸ¬ ë²ˆ ë°©ë¬¸í•´ë„ 1ì¼ 1íšŒë¡œ ì œí•œ ì—¬ë¶€ í™•ì¸ (PostHog ì„¸ì…˜ ê¸°ì¤€)',
      'days_since_signupì´ ê°€ì…ì¼ë¡œë¶€í„° ì •í™•íˆ ê³„ì‚°ë˜ëŠ”ì§€ í™•ì¸',
    ],
    code: `track('session_started', {\n  days_since_signup: daysBetween(user.created_at, new Date()),\n  total_judgments_lifetime: user.total_judgments\n})`
  },
  { id:'feedback_survey_completed', group:'retention', color:'green', priority:'P0',
    trigger:'PMF ì„¤ë¬¸ ì œì¶œ ì™„ë£Œ ì‹œ',
    location:'src/components/survey/PMFSurvey.tsx',
    props:[
      {name:'score', type:'string', ex:'"very_disappointed"', req:'í•„ìˆ˜'},
      {name:'nps_score', type:'number', ex:'9', req:'ì„ íƒ'},
    ],
    verify:[
      'score ê°’ì´ "very_disappointed"|"disappointed"|"not_disappointed" ì¤‘ í•˜ë‚˜',
      'ì„¤ë¬¸ ì™„ë£Œ í›„ ì¬ì œì¶œ ë°©ì§€ (user í…Œì´ë¸” survey_completed í”Œë˜ê·¸)',
      'Q8 ì¿¼ë¦¬ì—ì„œ ì§‘ê³„ í™•ì¸',
    ],
    code: `track('feedback_survey_completed', {\n  score: selectedScore,\n  nps_score: npsValue\n})`
  },
  { id:'user_churned', group:'retention', color:'green', priority:'P0',
    trigger:'ë§ˆì§€ë§‰ ì ‘ì†ìœ¼ë¡œë¶€í„° 14ì¼ ê²½ê³¼ ê°ì§€ ì‹œ (ë°°ì¹˜ ì¡)',
    location:'scripts/churn-detection.ts (ì¼ì¼ ë°°ì¹˜)',
    props:[
      {name:'last_active_days_ago', type:'number', ex:'16', req:'í•„ìˆ˜'},
      {name:'total_judgments', type:'number', ex:'8', req:'í•„ìˆ˜'},
      {name:'had_report', type:'boolean', ex:'false', req:'í•„ìˆ˜'},
    ],
    verify:[
      'ë°°ì¹˜ ì¡ ë¡œì»¬ ì‹¤í–‰ í›„ ì´ë²¤íŠ¸ ë°œí™” í™•ì¸',
      'ì´ë¯¸ churned ì²˜ë¦¬ëœ ì‚¬ìš©ì ì¬ë°œí™” ì—†ìŒ',
      'had_report=trueì¸ ì´íƒˆ ì‚¬ìš©ì ë¹„ìœ¨ ë³„ë„ ëª¨ë‹ˆí„°ë§',
    ],
    code: `// ì¼ì¼ ë°°ì¹˜ ìŠ¤í¬ë¦½íŠ¸\nfor (const user of inactiveUsers) {\n  posthog.capture('user_churned', {\n    distinct_id: user.id,\n    last_active_days_ago: user.daysSinceActive,\n    total_judgments: user.totalJudgments,\n    had_report: user.hasReport\n  })\n}`
  },
];

/* â”€â”€â”€ ê°œìš” ê·¸ë£¹ ìš”ì•½ â”€â”€â”€ */
const groups = [
  {key:'onboarding', label:'ì˜¨ë³´ë”© & ì¸ì¦', color:'purple', count:8},
  {key:'judgment', label:'AI íŒì •', color:'blue', count:9},
  {key:'report', label:'ë¦¬í¬íŠ¸ & ê³µìœ ', color:'orange', count:7},
  {key:'retention', label:'ì°¸ì—¬ & ë¦¬í…ì…˜', color:'green', count:8},
];
const gSummary = document.getElementById('group-summary');
groups.forEach(g => {
  const div = document.createElement('div');
  div.className = 'card-sm';
  div.style.borderTop = `3px solid var(--${g.color})`;
  const tracked = EVENTS.filter(e => e.group === g.key).length;
  div.innerHTML = `
    <div style="font-size:12px;font-weight:700;color:#fff;margin-bottom:6px">${g.label}</div>
    <div style="font-size:22px;font-weight:900;color:var(--${g.color});line-height:1;margin-bottom:4px">${tracked}<span style="font-size:13px"> / ${g.count}ê°œ</span></div>
    <div style="font-size:11px;color:var(--t4)">ìƒì„¸ ëª…ì„¸ ìˆ˜ë¡</div>
    <div class="prog-wrap"><div class="prog" style="width:${tracked/g.count*100}%;background:var(--${g.color})"></div></div>`;
  gSummary.appendChild(div);
});

/* â”€â”€â”€ ì´ë²¤íŠ¸ ìƒì„¸ ì¹´ë“œ ë Œë” â”€â”€â”€ */
function renderEvents(filter='all') {
  const list = document.getElementById('ev-list');
  list.innerHTML = '';
  const filtered = filter === 'all' ? EVENTS : EVENTS.filter(e => e.group === filter);
  filtered.forEach(ev => {
    const colorMap = {purple:'var(--purple)',blue:'var(--blue)',orange:'var(--orange)',green:'var(--green)'};
    const c = colorMap[ev.color];
    const div = document.createElement('div');
    div.className = 'ev-card';
    div.innerHTML = `
      <div class="ev-card-head" onclick="this.nextElementSibling.classList.toggle('open');this.querySelector('.ev-chev').textContent=this.nextElementSibling.classList.contains('open')?'â–²':'â–¼'">
        <div class="ev-name" style="color:${c}">${ev.id}</div>
        <div class="ev-group-label">${{onboarding:'ì˜¨ë³´ë”© & ì¸ì¦',judgment:'AI íŒì •',report:'ë¦¬í¬íŠ¸ & ê³µìœ ',retention:'ë¦¬í…ì…˜'}[ev.group]}</div>
        <span class="tag tag-${ev.color === 'blue' ? 'blue' : ev.color === 'purple' ? 'purple' : ev.color === 'orange' ? 'orange' : 'green'}" style="font-size:10px">${ev.group}</span>
        <span class="tag ${ev.priority==='P0'?'tag-red':'tag-yellow'}" style="font-size:10px;margin-left:4px">${ev.priority}</span>
        <span class="ev-chev" style="color:var(--t4);margin-left:8px;font-size:12px">â–¼</span>
      </div>
      <div class="ev-card-body">
        <div class="flow-row">
          <div class="flow-step"><div class="flow-step-label">ë°œí™” ì‹œì </div><div class="flow-step-val">${ev.trigger}</div></div>
          <div class="flow-arrow">â†’</div>
          <div class="flow-step"><div class="flow-step-label">ìœ„ì¹˜ (íŒŒì¼)</div><div class="flow-step-val" style="font-family:monospace;font-size:10px;color:var(--cyan)">${ev.location}</div></div>
        </div>
        <div style="font-size:10px;font-weight:700;letter-spacing:1px;text-transform:uppercase;color:var(--t4);margin:10px 0 4px">í”„ë¡œí¼í‹° ëª…ì„¸</div>
        <table class="prop-table">
          <thead><tr><th>í”„ë¡œí¼í‹°</th><th>íƒ€ì…</th><th>ì˜ˆì‹œ</th><th>í•„ìˆ˜ ì—¬ë¶€</th></tr></thead>
          <tbody>
            ${ev.props.map(p=>`<tr>
              <td><span class="prop-name">${p.name}</span></td>
              <td><span class="prop-type">${p.type}</span></td>
              <td><span class="prop-ex">${p.ex}</span></td>
              <td><span class="prop-req" style="color:${p.req==='í•„ìˆ˜'?'var(--red)':'var(--t4)'}">${p.req}</span></td>
            </tr>`).join('')}
          </tbody>
        </table>
        <div style="font-size:10px;font-weight:700;letter-spacing:1px;text-transform:uppercase;color:var(--t4);margin:12px 0 6px">ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸</div>
        <div class="verify-list">
          ${ev.verify.map(v=>`<div class="verify-item"><span class="verify-icon">â˜</span><span class="verify-text">${v}</span></div>`).join('')}
        </div>
        <div style="font-size:10px;font-weight:700;letter-spacing:1px;text-transform:uppercase;color:var(--t4);margin:12px 0 4px">êµ¬í˜„ ì½”ë“œ ì˜ˆì‹œ</div>
        <div class="code-block">${ev.code.replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/track\(/g,'<span class="fn">track</span>(').replace(/'[^']+'/g,s=>`<span class="str">${s}</span>`).replace(/:\s*(true|false|\d+\.?\d*)/g,(m,v)=>`: <span class="num">${v}</span>`)}</div>
      </div>`;
    list.appendChild(div);
  });
}
renderEvents();

function filterEv(cat, btn) {
  document.querySelectorAll('#ev-filter .filter-btn').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
  renderEvents(cat);
}

/* â”€â”€â”€ í¼ë„ ë°ì´í„° ë Œë” â”€â”€â”€ */
function renderFunnel(id, steps) {
  const wrap = document.getElementById('funnel-' + id);
  wrap.innerHTML = '';
  const max = steps[0].val;
  steps.forEach((s, i) => {
    const pct = Math.round(s.val / max * 100);
    const drop = i > 0 ? Math.round((1 - s.val / steps[i-1].val) * 100) : null;
    const colorBar = ['#4f80ff','#a855f7','#f97316','#10b981','#06b6d4','#f59e0b'][i];
    const div = document.createElement('div');
    div.className = 'funnel-step';
    div.innerHTML = `
      <div class="funnel-step-meta">
        <span class="funnel-step-name">${s.event}</span>
        <span class="funnel-step-pct">${pct}%</span>
        ${drop !== null ? `<span class="funnel-drop">â†“ -${drop}% ì´íƒˆ</span>` : ''}
      </div>
      <div class="funnel-bar-wrap">
        <div class="funnel-bar" style="width:${pct}%;background:${colorBar}">
          <span class="funnel-bar-label">${s.label} (${s.val.toLocaleString()}ëª…)</span>
        </div>
      </div>`;
    wrap.appendChild(div);
  });
}

// ì˜ˆì‹œ ë°ì´í„° (ë² íƒ€ 50ëª… ê¸°ì¤€ ì‹œë®¬ë ˆì´ì…˜)
renderFunnel('onboarding', [
  {event:'user_signed_up', label:'ê°€ì… ì™„ë£Œ', val:100},
  {event:'onboarding_completed', label:'ì˜¨ë³´ë”© ì™„ë£Œ', val:74},
  {event:'contract_analyzed', label:'ê³„ì•½ì„œ ë¶„ì„', val:61},
  {event:'judgment_requested', label:'ì²« íŒì • ìš”ì²­', val:52},
  {event:'judgment_completed', label:'íŒì • ì™„ë£Œ', val:50},
]);
renderFunnel('report', [
  {event:'judgment_out_of_scope_viewed', label:'ë²”ìœ„ ì™¸ ì¡°íšŒ', val:100},
  {event:'report_item_added', label:'ë¦¬í¬íŠ¸ ì¶”ê°€', val:45},
  {event:'report_created', label:'ë¦¬í¬íŠ¸ ìƒì„±', val:32},
  {event:'report_share_link_generated', label:'ë§í¬ ë°œê¸‰', val:28},
  {event:'report_viewed_public', label:'ê³µê°œ ì¡°íšŒ', val:21},
]);
renderFunnel('feedback', [
  {event:'judgment_completed', label:'íŒì • ìˆ˜ì‹ ', val:100},
  {event:'(feedback ë²„íŠ¼ ë…¸ì¶œ)', label:'ë²„íŠ¼ ë…¸ì¶œ', val:100},
  {event:'judgment_feedback_given', label:'í”¼ë“œë°± ì œì¶œ', val:47},
  {event:'(feedback=correct)', label:'ì •í™• íŒì •', val:38},
  {event:'judgment_overridden', label:'PM ì˜¤ë²„ë¼ì´ë“œ', val:9},
]);
renderFunnel('retention', [
  {event:'user_signed_up (D0)', label:'ê°€ì…ì¼', val:100},
  {event:'session_started (D1)', label:'D+1 ì¬ë°©ë¬¸', val:68},
  {event:'session_started (D7)', label:'D+7 ì¬ë°©ë¬¸', val:51},
  {event:'session_started (D14)', label:'D+14 ì¬ë°©ë¬¸', val:42},
  {event:'weekly_active_streak', label:'ì£¼ 3ì¼+ ë‹¬ì„±', val:29},
]);

/* â”€â”€â”€ ì „ì²´ ìƒíƒœíŒ â”€â”€â”€ */
let statusData = {};
EVENTS.forEach(e => { statusData[e.id] = 'todo'; });

function renderStatusGrid() {
  const grid = document.getElementById('status-grid');
  grid.innerHTML = '';
  EVENTS.forEach(ev => {
    const s = statusData[ev.id];
    const dotClass = {pass:'status-pass', fail:'status-fail', todo:'status-todo', skip:'status-skip'}[s];
    const card = document.createElement('div');
    card.className = 'ev-status-card';
    card.innerHTML = `
      <div class="status-dot ${dotClass}"></div>
      <div class="ev-name" style="color:var(--cyan)">${ev.id}</div>
      <div class="ev-group" style="color:var(--${ev.color})">${ev.group}</div>
      <div class="status-row" style="margin-top:8px">
        ${['todo','pass','fail','skip'].map(st=>`<button class="status-btn s-${st}" style="opacity:${s===st?1:.45}" onclick="setStatus('${ev.id}','${st}',event)">${{todo:'ë¯¸ê²€ì¦',pass:'í†µê³¼',fail:'ì‹¤íŒ¨',skip:'ìŠ¤í‚µ'}[st]}</button>`).join('')}
      </div>`;
    grid.appendChild(card);
  });
  updateStatusKPI();
}

function setStatus(id, st, event) {
  event.stopPropagation();
  statusData[id] = st;
  renderStatusGrid();
}

function updateStatusKPI() {
  const vals = Object.values(statusData);
  const pass = vals.filter(v=>v==='pass').length;
  const fail = vals.filter(v=>v==='fail').length;
  const todo = vals.filter(v=>v==='todo').length;
  const skip = vals.filter(v=>v==='skip').length;
  const total = vals.length;
  const pct = Math.round((pass+skip)/total*100);

  const kpiEl = document.getElementById('status-kpi');
  kpiEl.innerHTML = [
    {label:'í†µê³¼', val:pass, color:'green'},
    {label:'ì‹¤íŒ¨', val:fail, color:'red'},
    {label:'ë¯¸ê²€ì¦', val:todo, color:'t4'},
    {label:'ìŠ¤í‚µ', val:skip, color:'yellow'},
  ].map(k=>`<div class="kpi"><div class="kpi-l">${k.label}</div><div class="kpi-v" style="color:var(--${k.color})">${k.val}<span style="font-size:13px">ê°œ</span></div><div class="kpi-s">${total}ê°œ ì¤‘</div></div>`).join('');

  document.getElementById('status-pct-text').textContent = pct + '%';
  const bar = document.getElementById('status-prog');
  bar.style.width = pct + '%';
  bar.style.background = pct === 100 ? 'var(--green)' : pct > 60 ? 'var(--yellow)' : 'var(--blue)';
}

renderStatusGrid();
</script>
</body>
</html>
